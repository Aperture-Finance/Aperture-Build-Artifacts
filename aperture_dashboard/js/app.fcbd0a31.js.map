{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4a62","webpack:///./src/App.vue?aa20","webpack:///./src/components/Metrics.vue?d0fd","webpack:///src/components/Metrics.vue","webpack:///./src/components/Metrics.vue?655c","webpack:///./src/components/Metrics.vue?94b9","webpack:///src/App.vue","webpack:///./src/App.vue?60d0","webpack:///./src/App.vue?315a","webpack:///./src/main.js","webpack:///./src/components/Metrics.vue?367a","webpack:///./src/assets/logo.png"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","network","staticRenderFns","staticClass","_v","_e","isLoading","_s","getCompletedPositionQueries","getNumPositions","getTVL","getSumOpenPositionInitialSizes","getSumAllPositionInitialSizes","getSumOpenPositionSpectrumTVLContributions","getSumUnrealizedGain","getSumShortFarmValueAcrossOpenPositions","getSumShortFarmValueAcrossOpenPositionsWithUnrealizedGain","_m","openPositionTableColumns","openPositionTableData","enabled","initialSortBy","field","type","perPageDropdown","jumpFirstOrLast","closedPositionTableColumns","closedPositionTableData","staticStyle","getCountChartData","countChartOptions","getSumChartData","sumChartOptions","getUniqueWalletCountsChartData","uniqueWalletCountsChartOptions","_l","toFormat","BigNumber","FORMAT","prefix","decimalSeparator","groupSeparator","groupSize","secondaryGroupSize","fractionGroupSeparator","fractionGroupSize","suffix","terra1vxtwu4ehgzz77mnfwrntyrmgl64qjs75mpwqaz","terra14y5affaarufk3uscy2vr6pe6w6zqf2wpjzn5sh","terra1jsxngqasf2zynj5kyh0tgq9mj3zksa5gk35j4k","terra1dk3g53js3034x4v5c3vavhj2738une880yu6kx","terra1csk6tc7pdmpr782w527hwhez6gfv632tyf72cp","terra1cc3enj9qgchlrj34cnzhwuclc4vl2z3jl7tkqg","terra1227ppwxxj3jxz8cfgq00jgnxqcny7ryenvkwj6","terra165nd2qmrtszehcfrntlplzern7zl4ahtlhd5t2","terra1w7zgkcyt7y4zpct9dw8mw362ywvdlydnum2awa","terra10h7ry7apm55h4ez502dqdv9gr53juu85nkd4aq","terra1kscs6uhrqwy6rx5kuw5lwpuqvm3t6j2d6uf2lp","terra1lvmx8fsagy70tv0fhmfzdw9h6s3sy4prz38ugf","terra19cmt6vzvhnnnfsmccaaxzy2uaj06zjktu6yzjx","terra1mqsjugsugfprn3cvgxsrr8akkvdxv2pzc74us7","terra1h8arz2k547uvmpxctuwush3jzc8fun4s96qgwt","terra18wayjpyq28gd970qzgjfmsjj7dmgdk039duhph","terra18yqdfzfhnguerz9du5mnvxsh5kxlknqhcxzjfr","terra1qqfx5jph0rsmkur2zgzyqnfucra45rtjae5vh6","terra1l5lrxtwd98ylfy09fn866au6dp76gu8ywnudls","terra1u43zu5amjlsgty5j64445fr9yglhm53m576ugh","terra1g4x2pzmkc9z3mseewxf758rllg08z3797xly0n","terra1aa00lpfexyycedfg5k2p60l9djcmw0ue5l8fhc","terra19ya4jpvjvvtggepvmmj6ftmwly3p7way0tt08r","terra18ej5nsuu867fkx4tuy2aglpvqjrkcrjjslap3z","terra137drsu8gce5thf6jr5mxlfghw36rpljt3zj73v","terra1qsnj5gvq8rgs7yws8x5u02gwd5wvtu4tks0hjm","terra1rh2907984nudl7vh56qjdtvv7947z4dujj92sx","terra1246zy658dfgtausf0c4a6ly8sc2e285q4kxqga","terra1ptdxmj3xmmljzx02nr4auwfuelmj0cnkh8egs2","terra1rhhvx8nzfrx5fufkuft06q5marfkucdqwq5sjw","terra1drsjzvzej4h4qlehcfwclxg4w5l3h5tuvd3jd8","terra1dj2cj02zak0nvwy3uj9r9dhhxhdwxnw6psse6p","terra149755r3y0rve30e209awkhn5cxgkn5c8ju9pm5","terra17ana8hvzea0q7w367dm0dw48sxwql39qekpt7g","terra16vfxm98rxlc8erj4g0sj5932dvylgmdufnugk0","terra1qg9ugndl25567u03jrr79xur2yk9d632fke3h2","terra1nslem9lgwx53rvgqwd8hgq7pepsry6yr3wsen4","terra1djnlav60utj06kk9dl7defsv8xql5qpryzvm3h","terra18yx7ff8knc98p07pdkhm3u36wufaeacv47fuha","terra1ax7mhqahj6vcqnnl675nqq2g9wghzuecy923vy","terra12s2h8vlztjwu440khpc0063p34vm7nhu25w4p9","terra12saaecsqwxj04fn0jsv4jmdyp6gylptf5tksge","terra15dr4ah3kha68kam7a907pje9w6z2lpjpnrkd06","terra1fdkfhgk433tar72t4edh6p6y9rmjulzc83ljuw","terra1fucmfp8x4mpzsydjaxyv26hrkdg4vpdzdvf647","terra18gphn8r437p2xmjpw7a79hgsglf5y4t0x7s5ee","terra14gq9wj0tt6vu0m4ec2tkkv4ln3qrtl58lgdl2c","terra1qre9crlfnulcg0m68qqywqqstplgvrzywsg3am","terra179na3xcvjastpptnh9g6lnf75hqqjnsv9mqm3j","terra1avryzxnsn2denq7p2d7ukm6nkck9s0rz2llgnc","terra1fs6c6y65c65kkjanjwvmnrfvnm2s58ph88t9ky","terra13myzfjdmvqkama2tt3v5f7quh75rv78w8kq6u6","terra1csr22xvxs6r3gkjsl7pmjkmpt39mwjsrm0e2r8","terra1ys4dwwzaenjg2gy02mslmc96f267xvpsjat7gx","generateRangeArray","begin","end","props","components","GChart","VueGoodTable","mounted","uniqueWallets","historicalStats","nextHistoricalStatsIndex","initialInvestmentUSTOpenPositions","initialInvestmentUSTAllPositions","numPositions","completedPositionQueries","tvl","sumOpenPositionInitialSizes","sumAllPositionInitialSizes","sumOpenPositionSpectrumTVLContributions","sumUnrealizedGain","sumShortFarmValueAcrossOpenPositions","sumShortFarmValueAcrossOpenPositionsWithUnrealizedGain","mAssetToTVL","title","bars","label","formatFn","sortable","html","computed","chartData","stat","chartRangeLimits","index","dividedBy","methods","init","mAssetAddr","mAssetMap","crunchData","queryHive","method","url","query","apertureManager","currentStateHiveResponse","currentBlockHeight","height","POSITION_ID_ZERO_BLOCK_HEIGHT","STEP_SIZE_NUM_BLOCKS","historicalInfoQuery","blockHeight","historicalInfoResponse","historicalBlockInfo","historicalPositionCountInfo","blockTime","Date","positionCount","dnManager","hiveQueryBatchSize","hiveQueryNumBatches","Math","pool","collection","maxConcurrency","task","startPositionId","batchId","endPositionId","hiveQuery","map","position_id","join","hiveResponse","allPositionsInfo","flat","filter","id","mAsset","initValue","curValue","creationTime","positionInfo","cr","tcr","min","holder","contract","generateAdditionalFields","finalValue","closureTime","console","processPositionResult","position_result","position_info","plus","initialInvestmentUusd","initialInvestmentUST","detailed_info","state","multipliedBy","shortFarmValue","times","mAssetName","component","Metrics","location","pathname","Vue","config","productionTip","render","h","App","$mount"],"mappings":"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RA,KAAQC,KAARA,UACA,CACQuG,MAARA,YACQxG,MAARA,eACQyG,SAARA,YACU,OAAV,+BAGA,CACQD,MAARA,YACQxG,MAARA,cACQyG,SAARA,YACU,OAAV,+BAGA,CACQD,MAARA,SACQxG,MAARA,UAEA,CACQwG,MAARA,gBACQxG,MAARA,YACQC,KAARA,SACQwG,SAARA,YACU,OAAV,wCAGA,CACQD,MAARA,iCACQxG,MAARA,aACQC,KAARA,SACQwG,SAARA,YACU,OAAV,wCAGA,CACQD,MAARA,iBACQxG,MAARA,cACQC,KAARA,cAEA,CACQuG,MAARA,MACQxG,MAARA,MACQC,KAARA,cAEA,CACQuG,MAARA,SACQxG,MAARA,SACQ2G,MAARA,EACQD,UAARA,GAEA,CACQF,MAARA,WACQxG,MAARA,WACQ2G,MAARA,EACQD,UAARA,IAGM7G,sBAAuBA,GACvBQ,wBAAyBA,KAG7BuG,SAAUA,CACRjG,+BADJ,WAEM,IADN,EACA,mCADA,iBAEA,sBAFA,IAEA,0CACAkG,QACAC,iCACAA,mBALA,8BAQM,OAAOD,GAETtG,kBAXJ,WAYM,IADN,EACA,GACA,6DACA,kBACA,uBACA,wBACA,wBACA,yBACA,0BACA,0BACA,2BACA,4BACA,4BACA,8BAbA,iBAiBA,wCAjBA,IAiBA,4CACA,IADA,iBAEAwG,GAFA,IAEA,0CACA,cACAC,KAJA,8BAMAH,aAvBA,qDA2BA,uCA3BA,IA2BA,4CACA,IADA,iBAEAE,GAFA,IAEA,0CACA,cACAC,KAJA,8BAMAH,aAjCA,8BAoCM,OAAOA,GAETpG,gBAjDJ,WAkDM,IADN,EACA,GACA,yDACA,kBACA,uBACA,wBACA,wBACA,yBACA,0BACA,0BACA,2BACA,4BACA,4BACA,8BAbA,iBAiBA,wCAjBA,IAiBA,4CACA,IADA,iBAEAsG,GAFA,IAEA,0CACA,cACAC,KAJA,8BAMAH,cAvBA,qDA2BA,uCA3BA,IA2BA,4CACA,IADA,iBAEAE,GAFA,IAEA,0CACA,cACAC,KAJA,8BAMAH,cAjCA,8BAoCM,OAAOA,GAET1H,gBAvFJ,WAwFM,OAAOd,KA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","file":"js/app.fcbd0a31.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('img',{attrs:{\"alt\":\"Aperture logo\",\"src\":require(\"./assets/logo.png\")}}),_c('Metrics',{attrs:{\"network\":_vm.network}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[(_vm.isLoading)?_c('h1',[_vm._v(\"Loading...\")]):_vm._e(),(!_vm.isLoading)?_c('div',[_c('h1',[_vm._v(\"Aperture Dashboard\")]),_c('h3',[_vm._v(\"Aggregated from positions:\")]),_c('p',[_vm._v(_vm._s(_vm.getCompletedPositionQueries)+\" / \"+_vm._s(_vm.getNumPositions))]),_c('h3',[_vm._v(\"Total value of open positions (TVL)\")]),_c('p',[_vm._v(_vm._s(_vm.getTVL))]),_c('h3',[_vm._v(\"Total initial investment size of open positions\")]),_c('p',[_vm._v(_vm._s(_vm.getSumOpenPositionInitialSizes))]),_c('h3',[_vm._v(\"Total initial investment size of ALL positions\")]),_c('p',[_vm._v(_vm._s(_vm.getSumAllPositionInitialSizes))]),_c('h3',[_vm._v(\"Total contribution to Spectrum TVL from open positions\")]),_c('p',[_vm._v(_vm._s(_vm.getSumOpenPositionSpectrumTVLContributions))]),_c('h3',[_vm._v(\"Sum of unrealized gain across open positions with unrealized gain\")]),_c('p',[_vm._v(_vm._s(_vm.getSumUnrealizedGain))]),_c('h3',[_vm._v(\"Sum of short farm UST value across open positions\")]),_c('p',[_vm._v(_vm._s(_vm.getSumShortFarmValueAcrossOpenPositions))]),_c('h3',[_vm._v(\" Sum of short farm UST value across open positions with unrealized gain \")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.getSumShortFarmValueAcrossOpenPositionsWithUnrealizedGain)+\" \")]),_vm._m(0),_c('vue-good-table',{staticClass:\"center\",attrs:{\"columns\":_vm.openPositionTableColumns,\"rows\":_vm.openPositionTableData,\"sort-option\":{\n        enabled: true,\n        initialSortBy: { field: 'id', type: 'asc' },\n      },\"search-options\":{\n        enabled: true,\n      },\"pagination-options\":{\n        enabled: true,\n        perPageDropdown: [10, 20, 50, 100],\n        jumpFirstOrLast: true,\n      }}}),_vm._m(1),_c('vue-good-table',{staticClass:\"center\",attrs:{\"columns\":_vm.closedPositionTableColumns,\"rows\":_vm.closedPositionTableData,\"sort-option\":{\n        enabled: true,\n        initialSortBy: { field: 'id', type: 'asc' },\n      },\"search-options\":{\n        enabled: true,\n      },\"pagination-options\":{\n        enabled: true,\n        perPageDropdown: [10, 20, 50, 100],\n        jumpFirstOrLast: true,\n      }}}),_c('GChart',{staticStyle:{\"height\":\"600px\"},attrs:{\"type\":\"BarChart\",\"data\":_vm.getCountChartData,\"options\":_vm.countChartOptions}}),_c('GChart',{staticStyle:{\"height\":\"600px\"},attrs:{\"type\":\"BarChart\",\"data\":_vm.getSumChartData,\"options\":_vm.sumChartOptions}}),_c('GChart',{staticStyle:{\"height\":\"600px\"},attrs:{\"type\":\"LineChart\",\"data\":_vm.getUniqueWalletCountsChartData,\"options\":_vm.uniqueWalletCountsChartOptions}}),_c('h3',[_vm._v(\"TVL per mAsset\")]),_c('table',{staticStyle:{\"margin-left\":\"auto\",\"margin-right\":\"auto\"}},[_vm._m(2),_vm._l((_vm.mAssetToTVL),function(key,value){return _c('tr',{key:value},[_c('td',[_vm._v(_vm._s(value))]),_c('td',[_vm._v(_vm._s(key.toFormat(6)))])])})],2)],1):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',[_c('br'),_c('br'),_vm._v(\"Open Positions\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h2',[_c('br'),_c('br'),_vm._v(\"Closed Positions\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('th',[_vm._v(\"mAsset\")]),_c('th',[_vm._v(\"TVL\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"hello\">\n    <h1 v-if=\"isLoading\">Loading...</h1>\n    <div v-if=\"!isLoading\">\n      <h1>Aperture Dashboard</h1>\n      <h3>Aggregated from positions:</h3>\n      <p>{{ getCompletedPositionQueries }} / {{ getNumPositions }}</p>\n      <h3>Total value of open positions (TVL)</h3>\n      <p>{{ getTVL }}</p>\n      <h3>Total initial investment size of open positions</h3>\n      <p>{{ getSumOpenPositionInitialSizes }}</p>\n      <h3>Total initial investment size of ALL positions</h3>\n      <p>{{ getSumAllPositionInitialSizes }}</p>\n      <h3>Total contribution to Spectrum TVL from open positions</h3>\n      <p>{{ getSumOpenPositionSpectrumTVLContributions }}</p>\n      <h3>Sum of unrealized gain across open positions with unrealized gain</h3>\n      <p>{{ getSumUnrealizedGain }}</p>\n      <h3>Sum of short farm UST value across open positions</h3>\n      <p>{{ getSumShortFarmValueAcrossOpenPositions }}</p>\n      <h3>\n        Sum of short farm UST value across open positions with unrealized gain\n      </h3>\n      <p>\n        {{ getSumShortFarmValueAcrossOpenPositionsWithUnrealizedGain }}\n      </p>\n\n      <h2><br /><br />Open Positions</h2>\n      <vue-good-table\n        class=\"center\"\n        :columns=\"openPositionTableColumns\"\n        :rows=\"openPositionTableData\"\n        :sort-option=\"{\n          enabled: true,\n          initialSortBy: { field: 'id', type: 'asc' },\n        }\"\n        :search-options=\"{\n          enabled: true,\n        }\"\n        :pagination-options=\"{\n          enabled: true,\n          perPageDropdown: [10, 20, 50, 100],\n          jumpFirstOrLast: true,\n        }\"\n      />\n\n      <h2><br /><br />Closed Positions</h2>\n      <vue-good-table\n        class=\"center\"\n        :columns=\"closedPositionTableColumns\"\n        :rows=\"closedPositionTableData\"\n        :sort-option=\"{\n          enabled: true,\n          initialSortBy: { field: 'id', type: 'asc' },\n        }\"\n        :search-options=\"{\n          enabled: true,\n        }\"\n        :pagination-options=\"{\n          enabled: true,\n          perPageDropdown: [10, 20, 50, 100],\n          jumpFirstOrLast: true,\n        }\"\n      />\n\n      <GChart\n        type=\"BarChart\"\n        style=\"height: 600px\"\n        :data=\"getCountChartData\"\n        :options=\"countChartOptions\"\n      />\n      <GChart\n        type=\"BarChart\"\n        style=\"height: 600px\"\n        :data=\"getSumChartData\"\n        :options=\"sumChartOptions\"\n      />\n      <GChart\n        type=\"LineChart\"\n        style=\"height: 600px\"\n        :data=\"getUniqueWalletCountsChartData\"\n        :options=\"uniqueWalletCountsChartOptions\"\n      />\n      <h3>TVL per mAsset</h3>\n      <table style=\"margin-left: auto; margin-right: auto\">\n        <tr>\n          <th>mAsset</th>\n          <th>TVL</th>\n        </tr>\n        <tr v-for=\"(key, value) in mAssetToTVL\" :key=\"value\">\n          <td>{{ value }}</td>\n          <td>{{ key.toFormat(6) }}</td>\n        </tr>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { GChart } from \"vue-google-charts\";\nimport { BigNumber } from \"bignumber.js\";\nimport axios from \"axios\";\nimport pool from \"@ricokahler/pool\";\nimport \"vue-good-table/dist/vue-good-table.css\";\nimport { VueGoodTable } from \"vue-good-table\";\n\nBigNumber.config({\n  FORMAT: {\n    // string to prepend\n    prefix: \"$\",\n    // decimal separator\n    decimalSeparator: \".\",\n    // grouping separator of the integer part\n    groupSeparator: \",\",\n    // primary grouping size of the integer part\n    groupSize: 3,\n    // secondary grouping size of the integer part\n    secondaryGroupSize: 0,\n    // grouping separator of the fraction part\n    fractionGroupSeparator: \" \",\n    // grouping size of the fraction part\n    fractionGroupSize: 0,\n    // string to append\n    suffix: \"\",\n  },\n});\n\nconst mAssetMap = {\n  // Mainnet:\n  terra1vxtwu4ehgzz77mnfwrntyrmgl64qjs75mpwqaz: \"mAAPL\",\n  terra14y5affaarufk3uscy2vr6pe6w6zqf2wpjzn5sh: \"mTSLA\",\n  terra1jsxngqasf2zynj5kyh0tgq9mj3zksa5gk35j4k: \"mNFLX\",\n  terra1dk3g53js3034x4v5c3vavhj2738une880yu6kx: \"mETH\",\n  terra1csk6tc7pdmpr782w527hwhez6gfv632tyf72cp: \"mQQQ\",\n  terra1cc3enj9qgchlrj34cnzhwuclc4vl2z3jl7tkqg: \"mTWTR\",\n  terra1227ppwxxj3jxz8cfgq00jgnxqcny7ryenvkwj6: \"mMSFT\",\n  terra165nd2qmrtszehcfrntlplzern7zl4ahtlhd5t2: \"mAMZN\",\n  terra1w7zgkcyt7y4zpct9dw8mw362ywvdlydnum2awa: \"mBABA\",\n  terra10h7ry7apm55h4ez502dqdv9gr53juu85nkd4aq: \"mIAU\",\n  terra1kscs6uhrqwy6rx5kuw5lwpuqvm3t6j2d6uf2lp: \"mSLV\",\n  terra1lvmx8fsagy70tv0fhmfzdw9h6s3sy4prz38ugf: \"mUSO\",\n  terra19cmt6vzvhnnnfsmccaaxzy2uaj06zjktu6yzjx: \"mVIXY\",\n  terra1mqsjugsugfprn3cvgxsrr8akkvdxv2pzc74us7: \"mFB\",\n  terra1h8arz2k547uvmpxctuwush3jzc8fun4s96qgwt: \"mGOOGL\",\n  terra18wayjpyq28gd970qzgjfmsjj7dmgdk039duhph: \"mCOIN\",\n  terra18yqdfzfhnguerz9du5mnvxsh5kxlknqhcxzjfr: \"mHOOD\",\n  terra1qqfx5jph0rsmkur2zgzyqnfucra45rtjae5vh6: \"mARKK\",\n  terra1l5lrxtwd98ylfy09fn866au6dp76gu8ywnudls: \"mGLXY\",\n  terra1u43zu5amjlsgty5j64445fr9yglhm53m576ugh: \"mSQ\",\n  terra1g4x2pzmkc9z3mseewxf758rllg08z3797xly0n: \"mABNB\",\n  terra1aa00lpfexyycedfg5k2p60l9djcmw0ue5l8fhc: \"mSPY\",\n  terra19ya4jpvjvvtggepvmmj6ftmwly3p7way0tt08r: \"mDOT\",\n  terra18ej5nsuu867fkx4tuy2aglpvqjrkcrjjslap3z: \"mAMD\",\n  terra137drsu8gce5thf6jr5mxlfghw36rpljt3zj73v: \"mGS\",\n  terra1qsnj5gvq8rgs7yws8x5u02gwd5wvtu4tks0hjm: \"mKO\",\n  terra1rh2907984nudl7vh56qjdtvv7947z4dujj92sx: \"mPYPL\",\n  terra1246zy658dfgtausf0c4a6ly8sc2e285q4kxqga: \"mSBUX\",\n  terra1ptdxmj3xmmljzx02nr4auwfuelmj0cnkh8egs2: \"mJNJ\",\n  terra1rhhvx8nzfrx5fufkuft06q5marfkucdqwq5sjw: \"mBTC\",\n  terra1drsjzvzej4h4qlehcfwclxg4w5l3h5tuvd3jd8: \"mNVDA\",\n  terra1dj2cj02zak0nvwy3uj9r9dhhxhdwxnw6psse6p: \"mNIO\",\n  terra149755r3y0rve30e209awkhn5cxgkn5c8ju9pm5: \"mDIS\",\n  terra17ana8hvzea0q7w367dm0dw48sxwql39qekpt7g: \"mNKE\",\n\n  // Testnet:\n  terra16vfxm98rxlc8erj4g0sj5932dvylgmdufnugk0: \"mAAPL\",\n  terra1qg9ugndl25567u03jrr79xur2yk9d632fke3h2: \"mGOOGL\",\n  terra1nslem9lgwx53rvgqwd8hgq7pepsry6yr3wsen4: \"mTSLA\",\n  terra1djnlav60utj06kk9dl7defsv8xql5qpryzvm3h: \"mNFLX\",\n  terra18yx7ff8knc98p07pdkhm3u36wufaeacv47fuha: \"mQQQ\",\n  terra1ax7mhqahj6vcqnnl675nqq2g9wghzuecy923vy: \"mTWTR\",\n  terra12s2h8vlztjwu440khpc0063p34vm7nhu25w4p9: \"mMSFT\",\n  terra12saaecsqwxj04fn0jsv4jmdyp6gylptf5tksge: \"mAMZN\",\n  terra15dr4ah3kha68kam7a907pje9w6z2lpjpnrkd06: \"mBABA\",\n  terra1fdkfhgk433tar72t4edh6p6y9rmjulzc83ljuw: \"mSLV\",\n  terra1fucmfp8x4mpzsydjaxyv26hrkdg4vpdzdvf647: \"mUSO\",\n  terra18gphn8r437p2xmjpw7a79hgsglf5y4t0x7s5ee: \"mVIXY\",\n  terra14gq9wj0tt6vu0m4ec2tkkv4ln3qrtl58lgdl2c: \"mFB\",\n  terra1qre9crlfnulcg0m68qqywqqstplgvrzywsg3am: \"mCOIN\",\n  terra179na3xcvjastpptnh9g6lnf75hqqjnsv9mqm3j: \"mHOOD\",\n  terra1avryzxnsn2denq7p2d7ukm6nkck9s0rz2llgnc: \"mABNB\",\n  terra1fs6c6y65c65kkjanjwvmnrfvnm2s58ph88t9ky: \"mDOT\",\n  terra13myzfjdmvqkama2tt3v5f7quh75rv78w8kq6u6: \"mGS\",\n  terra1csr22xvxs6r3gkjsl7pmjkmpt39mwjsrm0e2r8: \"mBTC\",\n  terra1ys4dwwzaenjg2gy02mslmc96f267xvpsjat7gx: \"mETH\",\n};\nconst chartRangeLimits = [\n  500, 1000, 2000, 5000, 10000, 20000, 50000, 100000, 200000, 500000, 1e100,\n];\n\n// Generates array [begin, begin + 1, begin + 2, ..., end - 1].\nfunction generateRangeArray(begin, end) {\n  if (begin >= end) return [];\n  return [...Array(end - begin).keys()].map((num) => num + begin);\n}\n\nexport default {\n  name: \"Metrics\",\n  props: {\n    network: {\n      type: String,\n    },\n  },\n  components: {\n    GChart,\n    VueGoodTable,\n  },\n  async mounted() {\n    this.init();\n    await this.crunchData();\n  },\n  data: function () {\n    return {\n      uniqueWallets: {},\n      historicalStats: [],\n      nextHistoricalStatsIndex: 0,\n      initialInvestmentUSTOpenPositions: [],\n      initialInvestmentUSTAllPositions: [],\n      numPositions: 0,\n      completedPositionQueries: 0,\n      // Sum of the current uusd value of open positions.\n      tvl: BigNumber(0),\n      // Sum of initial uusd investment sizes of open positions.\n      sumOpenPositionInitialSizes: BigNumber(0),\n      // Sum of initial uusd investment sizes of all positions.\n      sumAllPositionInitialSizes: BigNumber(0),\n      // Sum of Spectrum-staked long farm values of open positions.\n      sumOpenPositionSpectrumTVLContributions: BigNumber(0),\n      // Sum of unrealized gain across all open positions with a positive unrealized gain.\n      sumUnrealizedGain: BigNumber(0),\n      // Sum of short farm value (uusd) across all open positions.\n      sumShortFarmValueAcrossOpenPositions: BigNumber(0),\n      // Sum of short farm value (uusd) across open positions with a positive unrealized gain.\n      sumShortFarmValueAcrossOpenPositionsWithUnrealizedGain: BigNumber(0),\n      mAssetToTVL: {},\n      countChartOptions: {\n        title: \"Initial Investment UST Size (bucketed counts)\",\n        bars: \"horizontal\",\n      },\n      sumChartOptions: {\n        title: \"Initial Investment UST Size (bucketed sum)\",\n        bars: \"horizontal\",\n      },\n      uniqueWalletCountsChartOptions: {\n        title: \"Unique Wallet Counts\",\n      },\n      isLoading: true,\n      openPositionTableColumns: [\n        { label: \"ID\", field: \"id\", type: \"number\" },\n        {\n          label: \"Opened at\",\n          field: \"creationTime\",\n          formatFn: function (date) {\n            return new Date(date).toLocaleString();\n          },\n        },\n        {\n          label: \"mAsset\",\n          field: \"mAsset\",\n        },\n        {\n          label: \"Initial Value\",\n          field: \"initValue\",\n          type: \"number\",\n          formatFn: function (amount) {\n            return BigNumber(amount).toFormat(6);\n          },\n        },\n        {\n          label: \"Current Value\",\n          field: \"curValue\",\n          type: \"number\",\n          formatFn: function (amount) {\n            return BigNumber(amount).toFormat(6);\n          },\n        },\n        {\n          label: \"P/L percentage\",\n          field: \"profitRatio\",\n          type: \"percentage\",\n        },\n        {\n          label: \"APR\",\n          field: \"apr\",\n          type: \"percentage\",\n        },\n        {\n          label: \"Target CR\",\n          field: \"tcr\",\n          sortable: false,\n        },\n        {\n          label: \"Current CR\",\n          field: \"cr\",\n          type: \"percentage\",\n        },\n        {\n          label: \"Holder\",\n          field: \"holder\",\n          html: true,\n          sortable: false,\n        },\n        {\n          label: \"Contract\",\n          field: \"contract\",\n          html: true,\n          sortable: false,\n        },\n      ],\n      closedPositionTableColumns: [\n        { label: \"ID\", field: \"id\", type: \"number\" },\n        {\n          label: \"Opened at\",\n          field: \"creationTime\",\n          formatFn: function (date) {\n            return new Date(date).toLocaleString();\n          },\n        },\n        {\n          label: \"Closed at\",\n          field: \"closureTime\",\n          formatFn: function (date) {\n            return new Date(date).toLocaleString();\n          },\n        },\n        {\n          label: \"mAsset\",\n          field: \"mAsset\",\n        },\n        {\n          label: \"Initial Value\",\n          field: \"initValue\",\n          type: \"number\",\n          formatFn: function (amount) {\n            return BigNumber(amount).toFormat(6);\n          },\n        },\n        {\n          label: \"Final Value (amount disbursed)\",\n          field: \"finalValue\",\n          type: \"number\",\n          formatFn: function (amount) {\n            return BigNumber(amount).toFormat(6);\n          },\n        },\n        {\n          label: \"P/L percentage\",\n          field: \"profitRatio\",\n          type: \"percentage\",\n        },\n        {\n          label: \"APR\",\n          field: \"apr\",\n          type: \"percentage\",\n        },\n        {\n          label: \"Holder\",\n          field: \"holder\",\n          html: true,\n          sortable: false,\n        },\n        {\n          label: \"Contract\",\n          field: \"contract\",\n          html: true,\n          sortable: false,\n        },\n      ],\n      openPositionTableData: [],\n      closedPositionTableData: [],\n    };\n  },\n  computed: {\n    getUniqueWalletCountsChartData() {\n      const chartData = [[\"Time\", \"Unique Wallet Count\"]];\n      for (const stat of this.historicalStats) {\n        chartData.push([\n          stat.blockTime.toLocaleDateString(),\n          stat.uniqueWallets,\n        ]);\n      }\n      return chartData;\n    },\n    getCountChartData() {\n      const chartData = [\n        [\"Range\", \"Active Positions (count)\", \"All Positions (count)\"],\n        [\"(0, $500]\", 0, 0],\n        [\"($500, $1,000]\", 0, 0],\n        [\"($1,000, 2,000]\", 0, 0],\n        [\"($2,000, 5,000]\", 0, 0],\n        [\"($5,000, 10,000]\", 0, 0],\n        [\"($10,000, 20,000]\", 0, 0],\n        [\"($20,000, 50,000]\", 0, 0],\n        [\"($50,000, 100,000]\", 0, 0],\n        [\"($100,000, 200,000]\", 0, 0],\n        [\"($200,000, 500,000]\", 0, 0],\n        [\"($500,000, Infinity)\", 0, 0],\n      ];\n\n      // Aggregate count from active positions.\n      for (const value of this.initialInvestmentUSTOpenPositions) {\n        let index = 0;\n        for (const limit of chartRangeLimits) {\n          if (value <= limit) break;\n          index++;\n        }\n        chartData[index + 1][1]++;\n      }\n\n      // Aggregate count from all positions.\n      for (const value of this.initialInvestmentUSTAllPositions) {\n        let index = 0;\n        for (const limit of chartRangeLimits) {\n          if (value <= limit) break;\n          index++;\n        }\n        chartData[index + 1][2]++;\n      }\n\n      return chartData;\n    },\n    getSumChartData() {\n      const chartData = [\n        [\"Range\", \"Active Positions (sum)\", \"All Positions (sum)\"],\n        [\"(0, $500]\", 0, 0],\n        [\"($500, $1,000]\", 0, 0],\n        [\"($1,000, 2,000]\", 0, 0],\n        [\"($2,000, 5,000]\", 0, 0],\n        [\"($5,000, 10,000]\", 0, 0],\n        [\"($10,000, 20,000]\", 0, 0],\n        [\"($20,000, 50,000]\", 0, 0],\n        [\"($50,000, 100,000]\", 0, 0],\n        [\"($100,000, 200,000]\", 0, 0],\n        [\"($200,000, 500,000]\", 0, 0],\n        [\"($500,000, Infinity)\", 0, 0],\n      ];\n\n      // Aggregate sum from active positions.\n      for (const value of this.initialInvestmentUSTOpenPositions) {\n        let index = 0;\n        for (const limit of chartRangeLimits) {\n          if (value <= limit) break;\n          index++;\n        }\n        chartData[index + 1][1] += value;\n      }\n\n      // Aggregate sum from all positions.\n      for (const value of this.initialInvestmentUSTAllPositions) {\n        let index = 0;\n        for (const limit of chartRangeLimits) {\n          if (value <= limit) break;\n          index++;\n        }\n        chartData[index + 1][2] += value;\n      }\n\n      return chartData;\n    },\n    getNumPositions() {\n      return this.numPositions;\n    },\n    getCompletedPositionQueries() {\n      return this.completedPositionQueries;\n    },\n    getTVL() {\n      return this.tvl.dividedBy(BigNumber(1e6)).toFormat(6);\n    },\n    getSumOpenPositionInitialSizes() {\n      return this.sumOpenPositionInitialSizes\n        .dividedBy(BigNumber(1e6))\n        .toFormat(6);\n    },\n    getSumAllPositionInitialSizes() {\n      return this.sumAllPositionInitialSizes\n        .dividedBy(BigNumber(1e6))\n        .toFormat(6);\n    },\n    getSumOpenPositionSpectrumTVLContributions() {\n      return this.sumOpenPositionSpectrumTVLContributions\n        .dividedBy(BigNumber(1e6))\n        .toFormat(6);\n    },\n    getSumUnrealizedGain() {\n      return this.sumUnrealizedGain.dividedBy(BigNumber(1e6)).toFormat(6);\n    },\n    getSumShortFarmValueAcrossOpenPositions() {\n      return this.sumShortFarmValueAcrossOpenPositions\n        .dividedBy(BigNumber(1e6))\n        .toFormat(6);\n    },\n    getSumShortFarmValueAcrossOpenPositionsWithUnrealizedGain() {\n      return this.sumShortFarmValueAcrossOpenPositionsWithUnrealizedGain\n        .dividedBy(BigNumber(1e6))\n        .toFormat(6);\n    },\n  },\n  methods: {\n    init() {\n      for (var mAssetAddr in mAssetMap) {\n        this.mAssetToTVL[mAssetMap[mAssetAddr]] = BigNumber(0);\n      }\n    },\n    async crunchData() {\n      let queryHive = function (query, network) {\n        return axios({\n          method: \"post\",\n          url:\n            network == \"mainnet\"\n              ? \"https://solitary-wind-b421.hyperfocal-dev.workers.dev/graphql\"\n              : \"https://cold-voice-73a0.hyperfocal-dev.workers.dev/graphql\",\n          data: {\n            query,\n          },\n        });\n      };\n\n      // Get current position count and block height.\n      const apertureManager =\n        this.network == \"mainnet\"\n          ? \"terra1ajkmy2c0g84seh66apv9x6xt6kd3ag80jmcvtz\"\n          : \"terra1pzmq3sacc2z3pk8el3rk0q584qtuuhnv4fwp8n\";\n      const currentStateHiveResponse = await queryHive(\n        `\n      {\n        tendermint {\n          blockInfo {\n            block {\n              header {\n                height\n                time\n              }\n            }\n          }\n        }\n        wasm {\n          contractQuery(\n            contractAddress: \"${apertureManager}\"\n            query: {\n              get_next_position_id: {}\n            }\n          )\n        }\n      }`,\n        this.network\n      );\n      this.numPositions =\n        currentStateHiveResponse.data.data.wasm.contractQuery.next_position_id;\n      const currentBlockHeight =\n        currentStateHiveResponse.data.data.tendermint.blockInfo.block.header\n          .height;\n\n      // Construct historical info query.\n      const POSITION_ID_ZERO_BLOCK_HEIGHT =\n        this.network == \"mainnet\" ? 6276761 : 7576578;\n      const STEP_SIZE_NUM_BLOCKS = 8000;\n      var historicalInfoQuery = \"{tendermint{\";\n      for (\n        let blockHeight = POSITION_ID_ZERO_BLOCK_HEIGHT;\n        blockHeight < currentBlockHeight + STEP_SIZE_NUM_BLOCKS;\n        blockHeight += STEP_SIZE_NUM_BLOCKS\n      ) {\n        if (blockHeight > currentBlockHeight) blockHeight = currentBlockHeight;\n        historicalInfoQuery += `\n          q${blockHeight}: blockInfo(height: ${blockHeight}) {\n            block {\n              header {\n                height\n                time\n              }\n            }\n          }`;\n      }\n      historicalInfoQuery += \"}wasm{\";\n      for (\n        let blockHeight = POSITION_ID_ZERO_BLOCK_HEIGHT;\n        blockHeight < currentBlockHeight + STEP_SIZE_NUM_BLOCKS;\n        blockHeight += STEP_SIZE_NUM_BLOCKS\n      ) {\n        if (blockHeight > currentBlockHeight) blockHeight = currentBlockHeight;\n        historicalInfoQuery += `\n          q${blockHeight}: contractQuery(\n            contractAddress: \"${apertureManager}\"\n            query: {\n              get_next_position_id: {}\n            }\n            height: ${blockHeight}\n          )`;\n      }\n      historicalInfoQuery += \"}}\";\n\n      // Query historical info.\n      const historicalInfoResponse = await queryHive(\n        historicalInfoQuery,\n        this.network\n      );\n      const historicalBlockInfo = Object.values(\n        historicalInfoResponse.data.data.tendermint\n      );\n      const historicalPositionCountInfo = Object.values(\n        historicalInfoResponse.data.data.wasm\n      );\n      for (var i = 0; i < historicalBlockInfo.length; ++i) {\n        this.historicalStats.push({\n          blockTime: new Date(\n            Date.parse(historicalBlockInfo[i].block.header.time)\n          ),\n          positionCount: parseInt(\n            historicalPositionCountInfo[i].next_position_id\n          ),\n        });\n      }\n\n      // Get all position info.\n      const dnManager =\n        this.network == \"mainnet\"\n          ? \"terra1jvehz6d9gk3gl4tldrzd8qzj8zfkurfvtcg99x\"\n          : \"terra1qycrwtsmxnnklc42yzexveyhjls657qhuwhmlw\";\n      let hiveQueryBatchSize = 600;\n      let hiveQueryNumBatches = Math.ceil(\n        this.numPositions / hiveQueryBatchSize\n      );\n      let allPositionsInfo = (\n        await pool({\n          collection: generateRangeArray(0, hiveQueryNumBatches),\n          maxConcurrency: 10,\n          task: async (batchId) => {\n            let startPositionId = batchId * hiveQueryBatchSize;\n            let endPositionId = Math.min(\n              startPositionId + hiveQueryBatchSize,\n              this.numPositions\n            );\n            let hiveQuery =\n              \"{wasm{\" +\n              generateRangeArray(startPositionId, endPositionId)\n                .map((position_id) => {\n                  return (\n                    \"q\" +\n                    position_id +\n                    `:contractQuery(contractAddress:\"${dnManager}\"query:{batch_get_position_info:{positions:[{chain_id:3,position_id:\"` +\n                    position_id.toString() +\n                    '\"}]}})'\n                  );\n                })\n                .join() +\n              \"}}\";\n            let hiveResponse = await queryHive(hiveQuery, this.network);\n            return Object.values(hiveResponse.data.data.wasm).map(\n              (element) => element.items[0]\n            );\n          },\n        })\n      ).flat();\n\n      // Generate position info table data.\n      this.openPositionTableData = allPositionsInfo\n        .filter(\n          (positionInfo) => positionInfo.info.position_close_info === null\n        )\n        .map((positionInfo) => {\n          return {\n            id: parseInt(positionInfo.position.position_id),\n            mAsset: mAssetMap[positionInfo.info.mirror_asset_cw20_addr],\n            initValue:\n              BigNumber(positionInfo.info.position_open_info.uusd_amount) / 1e6,\n            curValue:\n              BigNumber(positionInfo.info.detailed_info.uusd_value) / 1e6,\n            creationTime: new Date(\n              positionInfo.info.position_open_info.time_nanoseconds / 1e6\n            ),\n            cr: parseFloat(positionInfo.info.detailed_info.collateral_ratio),\n            tcr:\n              positionInfo.info.detailed_info.target_collateral_ratio_range\n                .min +\n              \" ~ \" +\n              positionInfo.info.detailed_info.target_collateral_ratio_range.max,\n            holder:\n              `<a href=\"https://terrasco.pe/${this.network}/address/` +\n              positionInfo.holder +\n              '\">Holder</a>',\n            contract:\n              `<a href=\"https://terrasco.pe/${this.network}/address/` +\n              positionInfo.contract +\n              '\">Contract</a>',\n            generateAdditionalFields: function () {\n              this.profitRatio =\n                (this.curValue - this.initValue) / this.initValue;\n              if (this.profitRatio > 0) {\n                let timeElapsedDays =\n                  (Date.now() - this.creationTime) / 1000 / 3600 / 24;\n                this.apr = (this.profitRatio / timeElapsedDays) * 365;\n              }\n              return this;\n            },\n          }.generateAdditionalFields();\n        });\n      this.closedPositionTableData = allPositionsInfo\n        .filter(\n          (positionInfo) => positionInfo.info.position_close_info !== null\n        )\n        .map((positionInfo) => {\n          return {\n            id: parseInt(positionInfo.position.position_id),\n            mAsset: mAssetMap[positionInfo.info.mirror_asset_cw20_addr],\n            initValue:\n              BigNumber(positionInfo.info.position_open_info.uusd_amount) / 1e6,\n            finalValue:\n              BigNumber(positionInfo.info.position_close_info.uusd_amount) /\n              1e6,\n            creationTime: new Date(\n              positionInfo.info.position_open_info.time_nanoseconds / 1e6\n            ),\n            closureTime: new Date(\n              positionInfo.info.position_close_info.time_nanoseconds / 1e6\n            ),\n            holder:\n              `<a href=\"https://terrasco.pe/${this.network}/address/` +\n              positionInfo.holder +\n              '\">Holder</a>',\n            contract:\n              `<a href=\"https://terrasco.pe/${this.network}/address/` +\n              positionInfo.contract +\n              '\">Contract</a>',\n            generateAdditionalFields: function () {\n              this.profitRatio =\n                (this.finalValue - this.initValue) / this.initValue;\n              if (this.profitRatio > 0) {\n                let timeElapsedDays =\n                  (this.closureTime - this.creationTime) / 1000 / 3600 / 24;\n                this.apr = (this.profitRatio / timeElapsedDays) * 365;\n              }\n              return this;\n            },\n          }.generateAdditionalFields();\n        });\n\n      allPositionsInfo.map((positionResult) => {\n        this.processPositionResult(positionResult);\n      });\n      this.isLoading = false;\n      this.isMounted = true;\n\n      console.log(this.nextHistoricalStatsIndex);\n      console.log(this.historicalStats);\n    },\n    processPositionResult(position_result) {\n      const holder = position_result.holder;\n      if (holder in this.uniqueWallets) {\n        this.uniqueWallets[holder]++;\n      } else {\n        this.uniqueWallets[holder] = 1;\n      }\n      const position_info = position_result.info;\n      const position_id = parseInt(position_result.position.position_id);\n\n      // Process historical stats.\n      while (\n        this.nextHistoricalStatsIndex < this.historicalStats.length &&\n        this.historicalStats[this.nextHistoricalStatsIndex].positionCount ==\n          position_id + 1\n      ) {\n        this.historicalStats[this.nextHistoricalStatsIndex].uniqueWallets =\n          Object.keys(this.uniqueWallets).length;\n        ++this.nextHistoricalStatsIndex;\n      }\n\n      // Process initial investment size.\n      const initialInvestmentUusd =\n        position_info.position_open_info.uusd_amount;\n      this.sumAllPositionInitialSizes = this.sumAllPositionInitialSizes.plus(\n        initialInvestmentUusd\n      );\n      const initialInvestmentUST = BigNumber(initialInvestmentUusd) / 1e6;\n      this.initialInvestmentUSTAllPositions.push(initialInvestmentUST);\n\n      if (position_info.detailed_info !== null) {\n        this.initialInvestmentUSTOpenPositions.push(initialInvestmentUST);\n\n        // Process initial investment size of this position which is still open.\n        this.sumOpenPositionInitialSizes =\n          this.sumOpenPositionInitialSizes.plus(\n            position_info.position_open_info.uusd_amount\n          );\n\n        let shortFarmValue = 0;\n        if (position_info.detailed_info.state !== null) {\n          // Process long farm value, which is uusd_long_farm * 2.\n          this.sumOpenPositionSpectrumTVLContributions =\n            this.sumOpenPositionSpectrumTVLContributions.plus(\n              BigNumber(\n                position_info.detailed_info.state.uusd_long_farm\n              ).multipliedBy(2)\n            );\n          // Process short farm value.\n          shortFarmValue = BigNumber(\n            position_info.detailed_info.state.mirror_asset_short_amount\n          ).times(\n            BigNumber(\n              position_info.detailed_info.state.mirror_asset_oracle_price\n            )\n          );\n          this.sumShortFarmValueAcrossOpenPositions =\n            this.sumShortFarmValueAcrossOpenPositions.plus(shortFarmValue);\n        }\n\n        // Process sums for open position with a positive unrealized gain.\n        if (\n          BigNumber(position_info.detailed_info.uusd_value) >\n          BigNumber(position_info.position_open_info.uusd_amount)\n        ) {\n          this.sumShortFarmValueAcrossOpenPositionsWithUnrealizedGain =\n            this.sumShortFarmValueAcrossOpenPositionsWithUnrealizedGain.plus(\n              shortFarmValue\n            );\n          this.sumUnrealizedGain = this.sumUnrealizedGain.plus(\n            BigNumber(position_info.detailed_info.uusd_value) -\n              BigNumber(position_info.position_open_info.uusd_amount)\n          );\n        }\n        // Process overall TVL.\n        this.tvl = this.tvl.plus(\n          BigNumber(position_info.detailed_info.uusd_value)\n        );\n        // Process per-mAsset TVL.\n        const mAssetAddr = position_info.mirror_asset_cw20_addr;\n        const mAssetName = mAssetMap[mAssetAddr];\n        if (mAssetName in this.mAssetToTVL) {\n          this.mAssetToTVL[mAssetName] = this.mAssetToTVL[mAssetName].plus(\n            BigNumber(position_info.detailed_info.uusd_value).dividedBy(\n              BigNumber(1e6)\n            )\n          );\n        } else {\n          this.mAssetToTVL[mAssetName] = BigNumber(\n            position_info.detailed_info.uusd_value\n          ).dividedBy(BigNumber(1e6));\n        }\n      }\n\n      this.completedPositionQueries++;\n    },\n  },\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n.center {\n  margin-left: auto;\n  margin-right: auto;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Metrics.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Metrics.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Metrics.vue?vue&type=template&id=1dad2342&scoped=true&\"\nimport script from \"./Metrics.vue?vue&type=script&lang=js&\"\nexport * from \"./Metrics.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Metrics.vue?vue&type=style&index=0&id=1dad2342&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1dad2342\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <img alt=\"Aperture logo\" src=\"./assets/logo.png\" />\n    <Metrics :network=\"network\" />\n  </div>\n</template>\n\n<script>\nimport Metrics from \"./components/Metrics.vue\";\n\nexport default {\n  name: \"App\",\n  components: {\n    Metrics,\n  },\n  data() {\n    let network = \"mainnet\";\n    if (window.location.pathname == '/testnet') {\n      network = \"testnet\";\n    }\n    return {\n      network\n    }\n  }\n};\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7188ce5b&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Metrics.vue?vue&type=style&index=0&id=1dad2342&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/logo.9f25601d.png\";"],"sourceRoot":""}