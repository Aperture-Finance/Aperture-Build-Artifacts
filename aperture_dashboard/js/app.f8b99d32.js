(function(e){function t(t){for(var r,i,a=t[0],u=t[1],c=t[2],d=0,f=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(f.length)f.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},s=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var l=u;s.push([1,"chunk-vendors"]),n()})({0:function(e,t){},"0084":function(e,t,n){},"034f":function(e,t,n){"use strict";n("85ec")},1:function(e,t,n){e.exports=n("56d7")},10:function(e,t){},2:function(e,t){},"2d51":function(e,t,n){"use strict";n("0084")},3:function(e,t){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("img",{attrs:{alt:"Vue logo",src:n("cf05")}}),r("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},s=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("h1",[e._v("Aperture Dashboard")]),n("h3",[e._v("TVL")]),n("p",[e._v(e._s(e.getTVL))]),n("h3",[e._v("TVL per mAsset")]),n("ul",e._l(e.mAssetToTVL,(function(t,r){return n("li",{key:r},[e._v(" "+e._s(r)+": "+e._s(t)+" ")])})),0),n("h3",[e._v("Total Positions")]),n("p",[e._v(e._s(e.openedPositions.length+e.closedPositions.length))]),n("h3",[e._v("Open Positions")]),n("ul",[n("li",[e._v(" "+e._s(e.openedPositions.length)+" ")])]),n("h3",[e._v("Total Closed Positions")]),n("ul",[n("li",[e._v(" "+e._s(e.closedPositions.length)+" ")])]),n("h3",[e._v("Unique Position Holders: "+e._s(Object.keys(e.uniqueWallets).length))]),n("ul",e._l(e.uniqueWallets,(function(t,r){return n("li",{key:r},[e._v(" "+e._s(r)+": "+e._s(t)+" ")])})),0)])},a=[],u=n("1da1"),c=(n("d3b7"),n("25f0"),n("820e"),n("3ca3"),n("ddb0"),n("4e82"),n("96cf"),n("b8b0")),l=n("901e"),d={terra1vxtwu4ehgzz77mnfwrntyrmgl64qjs75mpwqaz:"mAAPL",terra14y5affaarufk3uscy2vr6pe6w6zqf2wpjzn5sh:"mTSLA",terra1jsxngqasf2zynj5kyh0tgq9mj3zksa5gk35j4k:"mNFLX",terra1dk3g53js3034x4v5c3vavhj2738une880yu6kx:"mETH",terra1csk6tc7pdmpr782w527hwhez6gfv632tyf72cp:"mQQQ",terra1cc3enj9qgchlrj34cnzhwuclc4vl2z3jl7tkqg:"mTWTR",terra1227ppwxxj3jxz8cfgq00jgnxqcny7ryenvkwj6:"mMSFT",terra165nd2qmrtszehcfrntlplzern7zl4ahtlhd5t2:"mAMZN",terra1w7zgkcyt7y4zpct9dw8mw362ywvdlydnum2awa:"mBABA",terra10h7ry7apm55h4ez502dqdv9gr53juu85nkd4aq:"mIAU",terra1kscs6uhrqwy6rx5kuw5lwpuqvm3t6j2d6uf2lp:"mSLV",terra1lvmx8fsagy70tv0fhmfzdw9h6s3sy4prz38ugf:"mUSO",terra19cmt6vzvhnnnfsmccaaxzy2uaj06zjktu6yzjx:"mVIXY",terra1mqsjugsugfprn3cvgxsrr8akkvdxv2pzc74us7:"mFB",terra1h8arz2k547uvmpxctuwush3jzc8fun4s96qgwt:"mGOOGL",terra18wayjpyq28gd970qzgjfmsjj7dmgdk039duhph:"mCOIN",terra18yqdfzfhnguerz9du5mnvxsh5kxlknqhcxzjfr:"mHOOD",terra1qqfx5jph0rsmkur2zgzyqnfucra45rtjae5vh6:"mARKK",terra1l5lrxtwd98ylfy09fn866au6dp76gu8ywnudls:"mGLXY",terra1u43zu5amjlsgty5j64445fr9yglhm53m576ugh:"mSQ",terra1g4x2pzmkc9z3mseewxf758rllg08z3797xly0n:"mABNB",terra1aa00lpfexyycedfg5k2p60l9djcmw0ue5l8fhc:"mSPY",terra19ya4jpvjvvtggepvmmj6ftmwly3p7way0tt08r:"mDOT",terra18ej5nsuu867fkx4tuy2aglpvqjrkcrjjslap3z:"mAMD",terra137drsu8gce5thf6jr5mxlfghw36rpljt3zj73v:"mGS",terra1qsnj5gvq8rgs7yws8x5u02gwd5wvtu4tks0hjm:"mKO",terra1rh2907984nudl7vh56qjdtvv7947z4dujj92sx:"mPYPL",terra1246zy658dfgtausf0c4a6ly8sc2e285q4kxqga:"mSBUX",terra1ptdxmj3xmmljzx02nr4auwfuelmj0cnkh8egs2:"mJNJ",terra1rhhvx8nzfrx5fufkuft06q5marfkucdqwq5sjw:"mBTC",terra1drsjzvzej4h4qlehcfwclxg4w5l3h5tuvd3jd8:"mNVDA",terra1dj2cj02zak0nvwy3uj9r9dhhxhdwxnw6psse6p:"mNIO",terra149755r3y0rve30e209awkhn5cxgkn5c8ju9pm5:"mDIS",terra17ana8hvzea0q7w367dm0dw48sxwql39qekpt7g:"mNKE"},f={name:"HelloWorld",props:{msg:String},mounted:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.init(),t.next=3,e.crunchData();case 3:case"end":return t.stop()}}),t)})))()},data:function(){return{client:void 0,uniqueWallets:{},openedPositions:[],closedPositions:[],tvl:Object(l["BigNumber"])(0),mAssetToTVL:{}}},computed:{getTVL:function(){return this.tvl.dividedBy(Object(l["BigNumber"])(1e6)).toString()}},methods:{init:function(){for(var e in console.log("initializing..."),this.client=new c["LCDClient"]({URL:"https://thrumming-wispy-snow.terra-mainnet.quiknode.pro/767455606a361ac0fdfba9d94fbc16f307f4096b/",chainID:"columbus-5"}),d)this.mAssetToTVL[d[e]]=Object(l["BigNumber"])(0)},crunchData:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r,o,s,i,a,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.client){t.next=3;break}return console.log("Client is uninitialized."),t.abrupt("return");case 3:return n="terra1ajkmy2c0g84seh66apv9x6xt6kd3ag80jmcvtz",r=e.client,t.next=7,r.wasm.contractQuery(n,{get_next_position_id:{}});case 7:return o=t.sent,console.log("next position id: ",o.next_position_id),t.next=11,r.wasm.contractQuery(n,{get_strategy_metadata:{strategy_id:"0"}});case 11:for(s=t.sent,i=s.manager_addr,a=[],u=0;u<parseInt(o.next_position_id);u++)a.push(e.worker(n,i,r,u));return console.log("Waiting for ".concat(a.length," requests to complete.")),t.next=18,Promise.allSettled(a);case 18:e.openedPositions.sort(),e.closedPositions.sort(),e.isMounted=!0,console.log(e.uniqueWallets),console.log(e.openedPositions),console.log(e.closedPositions);case 24:case"end":return t.stop()}}),t)})))()},worker:function(e,t,n,r){var o=this;return Object(u["a"])(regeneratorRuntime.mark((function s(){var i,a,u,c,f,p;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,n.wasm.contractQuery(e,{get_terra_position_info:{position_id:r.toString()}});case 2:return i=s.sent,a=i.holder,a in o.uniqueWallets?o.uniqueWallets[a]++:o.uniqueWallets[a]=1,s.next=7,n.wasm.contractQuery(t,{get_position_contract_addr:{position:{chain_id:3,position_id:r.toString()}}});case 7:return u=s.sent,s.next=10,n.wasm.contractQuery(u,{get_position_info:{}});case 10:c=s.sent,console.log("position_info: ",c),null==c.detailed_info?o.closedPositions.push(r):(o.openedPositions.push(r),o.tvl=o.tvl.plus(Object(l["BigNumber"])(c.detailed_info.uusd_value)),f=c.mirror_asset_cw20_addr,p=d[f],p in o.mAssetToTVL?o.mAssetToTVL[p]=o.mAssetToTVL[p].plus(Object(l["BigNumber"])(c.detailed_info.uusd_value).dividedBy(Object(l["BigNumber"])(1e6))):o.mAssetToTVL[p]=Object(l["BigNumber"])(c.detailed_info.uusd_value).dividedBy(Object(l["BigNumber"])(1e6)));case 13:case"end":return s.stop()}}),s)})))()}}},p=f,m=(n("2d51"),n("2877")),g=Object(m["a"])(p,i,a,!1,null,"ec45ff7a",null),h=g.exports,v={name:"App",components:{HelloWorld:h}},j=v,w=(n("034f"),Object(m["a"])(j,o,s,!1,null,null,null)),y=w.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(y)}}).$mount("#app")},6:function(e,t){},7:function(e,t){},8:function(e,t){},"85ec":function(e,t,n){},9:function(e,t){},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.f8b99d32.js.map